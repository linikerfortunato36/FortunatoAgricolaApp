<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-3">
        <div>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-1">
                    <li class="breadcrumb-item"><a routerLink="/app/produtores"
                            class="text-decoration-none">Produtores</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Adição / Detalhes do Produtor</li>
                </ol>
            </nav>
            <h2 class="h3 fw-bold text-dark mb-0">Gestão e Edição de Produtor</h2>
        </div>
        <div>
            <button routerLink="/app/produtores" class="btn btn-outline-secondary me-2"><i
                    class="bi bi-x-circle me-1"></i> Cancelar</button>
            <button class="btn btn-primary"><i class="bi bi-floppy me-1"></i> Salvar Produtor</button>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <!-- Tabs exigidas na rega de negócio -->
            <ul class="nav nav-tabs mb-4 border-bottom-0" id="produtorTab" role="tablist">
                <!-- 1 Aba: Resumo (Invisível para Novos Registros, conforme exigência) -->
                <li class="nav-item d-none" role="presentation">
                    <button class="nav-link text-dark shadow-sm bg-white border border-bottom-0 rounded-top"
                        id="movimentos-tab" data-bs-toggle="tab" data-bs-target="#movimentos" type="button" role="tab"
                        aria-controls="movimentos" aria-selected="false">
                        <i class="bi bi-truck me-2 text-primary"></i> Visão de Carregamentos
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link active text-primary fw-bold border-bottom-0 rounded-top shadow-sm bg-white"
                        id="edicao-tab" data-bs-toggle="tab" data-bs-target="#edicao" type="button" role="tab"
                        aria-controls="edicao" aria-selected="true">
                        <i class="bi bi-card-checklist me-2"></i> Cadastro (Edição)
                    </button>
                </li>
            </ul>

            <div class="tab-content border bg-white shadow-sm rounded-bottom rounded-end mb-4" id="produtorTabContent">
                <!-- FIRST TAB: Painel (Visualização) Oculta em novo registro -->
                <div class="tab-pane fade" id="movimentos" role="tabpanel" aria-labelledby="movimentos-tab">
                    <div class="p-4" style="background-color: var(--bg-color);">
                        <h5 class="fw-bold mb-3"><i class="bi bi-bar-chart-fill text-primary"></i> Resumo de Entregas
                            por Contrato</h5>
                        <div class="row g-3 mb-4">
                            <div class="col-md-4">
                                <div class="card border-0 shadow-sm h-100">
                                    <div class="card-body">
                                        <h6 class="text-uppercase text-muted fw-bold small">Contrato Associado</h6>
                                        <h5 class="fw-bold">001/26 (Cargill Agrícola)</h5>
                                        <hr class="my-2">
                                        <div class="d-flex justify-content-between small">
                                            <span class="text-muted">Total Entregue:</span>
                                            <span class="fw-bold text-dark fs-6">31.000 Kg</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card border-0 shadow-sm h-100">
                                    <div class="card-body">
                                        <h6 class="text-uppercase text-muted fw-bold small">Contrato Associado</h6>
                                        <h5 class="fw-bold">014/25 (Amaggi Exp.)</h5>
                                        <hr class="my-2">
                                        <div class="d-flex justify-content-between small">
                                            <span class="text-muted">Total Entregue:</span>
                                            <span class="fw-bold text-dark fs-6">10.000 Kg</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tabela de Movimentos Filtráveis -->
                        <div class="card border-0 shadow-sm mt-2">
                            <div
                                class="card-header bg-white border-bottom pt-3 pb-2 d-flex justify-content-between align-items-center">
                                <h6 class="fw-bold mb-0">Registro Detalhado de Movimentos (Syncfusion Placeholder)</h6>
                                <!-- Filtros Inteligentes -->
                                <div class="d-flex gap-2">
                                    <select class="form-select form-select-sm" style="width: 200px;">
                                        <option value="">Buscar por Contrato</option>
                                        <option value="1">Contrato 001/26</option>
                                        <option value="2">Contrato 014/25</option>
                                    </select>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <div class="table-responsive">
                                    <table class="table table-hover align-middle mb-0 text-center text-nowrap small">
                                        <thead class="bg-light text-muted">
                                            <tr>
                                                <th class="ps-3 text-start">DATA</th>
                                                <th class="text-start">CONTRATO / DESTINO</th>
                                                <th>P. FAZENDA (KG)</th>
                                                <th><span title="Umidade em Kg"
                                                        class="border-bottom border-dotted">UMID. (Kg)</span></th>
                                                <th><span title="Umidade %" class="border-bottom border-dotted">UMID
                                                        (%)</span></th>
                                                <th><span title="Impureza em Kg"
                                                        class="border-bottom border-dotted">IMP. (Kg)</span></th>
                                                <th><span title="Impureza %" class="border-bottom border-dotted">IMP
                                                        (%)</span></th>
                                                <th class="text-primary fw-bold">P. LÍQUIDO (KG)</th>
                                                <th class="pe-3 text-end">MOTORISTA (Veículo)</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="ps-3 text-start">28/02/2026</td>
                                                <td class="text-start"><span class="badge bg-secondary">001/26</span>
                                                    Cargill</td>
                                                <td>31.000</td>
                                                <td class="text-danger">-230</td>
                                                <td class="text-danger">0.7%</td>
                                                <td class="text-danger">-120</td>
                                                <td class="text-danger">0.3%</td>
                                                <td class="text-primary fw-bold bg-light fs-6">30.150</td>
                                                <td class="pe-3 text-muted text-end">João (ABC-1234)</td>
                                            </tr>
                                            <tr>
                                                <td class="ps-3 text-start">25/02/2026</td>
                                                <td class="text-start"><span class="badge bg-secondary">001/26</span>
                                                    Cargill</td>
                                                <td>30.500</td>
                                                <td class="text-danger">-400</td>
                                                <td class="text-danger">1.3%</td>
                                                <td class="text-muted">0</td>
                                                <td class="text-muted">0%</td>
                                                <td class="text-primary fw-bold bg-light fs-6">30.100</td>
                                                <td class="pe-3 text-muted text-end">Carlos (XYZ-9999)</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECOND TAB: Cadastro e Edição de Produtor -->
                <div class="tab-pane fade show active" id="edicao" role="tabpanel" aria-labelledby="edicao-tab">
                    <form class="p-4">
                        <div class="row g-4">
                            <div class="col-md-6">
                                <label class="form-label fw-bold text-dark">Nome / Fazenda *</label>
                                <input type="text" class="form-control" placeholder="Razão Social do Produtor" required>
                            </div>

                            <div class="col-md-3">
                                <label class="form-label fw-bold text-dark">CPF / CNPJ *</label>
                                <input type="text" class="form-control" placeholder="000.000.000-00 ou CNPJ" required>
                            </div>

                            <div class="col-md-3">
                                <label class="form-label fw-bold text-dark">Inscrição Estadual</label>
                                <input type="text" class="form-control" placeholder="IE / Produtor Rural">
                            </div>

                            <div class="col-md-6">
                                <label class="form-label fw-bold text-dark">Contato Telefônico</label>
                                <input type="text" class="form-control" placeholder="(00) 00000-0000">
                            </div>

                            <div class="col-md-6">
                                <label class="form-label fw-bold text-dark">E-mail</label>
                                <input type="email" class="form-control" placeholder="contato@fazenda.com.br">
                            </div>

                            <div class="col-12 mt-4">
                                <div class="form-check form-switch fs-5">
                                    <input class="form-check-input" type="checkbox" id="ativoProdutor" checked>
                                    <label class="form-check-label ms-2 text-dark fs-6 mt-1"
                                        for="ativoProdutor">Produtor Ativo no Sistema</label>
                                </div>
                            </div>

                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>